<!DOCTYPE html>
<html>
	<meta charset="utf-8"/>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <meta name="description" content="">
	    <meta name="author" content="">

   
		<title>ANLY 503</title>
		<link rel="icon" type="image/png" href="GU_icon.png">
		<link href="../css/bootstrap.min.css" rel="stylesheet">
		<link href="../css/site.css" rel="stylesheet">
	</head>
	<body>
		<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" style="position: fixed;">
	        <div class="container">
	            <!-- Brand and toggle get grouped for better mobile display -->
	            <div class="navbar-header">
	                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
	                    <span class="sr-only">Toggle navigation</span>
	                    <span class="icon-bar"></span>
	                    <span class="icon-bar"></span>
	                    <span class="icon-bar"></span>
	                </button>



	            </div>
	            <!-- Collect the nav links, forms, and other content for toggling -->
	            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	                <ul class="nav navbar-nav navbar-left">
	                    <li><a href="../index.htm"><font size="4">Home</font></a></li>
	                    <li><a href="../introduction/index.htm"><font size="4">Introduction</font></a></li>
	                    <li><a href="../collection/index.htm"><font size="4">Data Collection</font></a></li>
	                    <li><a href="../cleaning/index.htm"><font size="4">Data Cleaning</font></a></li>
	                    <li><a href="../eda/index.htm"><font size="4">EDA</font></a></li>
	                    <li><a href="../ref/index.htm"><font size="4">Reference</font></a></li>
	                </ul>
	            </div>
	            <!-- /.navbar-collapse -->
	        </div>
	    </nav>
		<h1 style="padding-left: calc(80px + 20%)">Data Cleaning and Manipulation</h1>
		<br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			Among all the datasets, the agricultural-related dataset has the most issue. The rest two datasets are relatively clean and well-formatted.</font>
		</p><br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			For the agricultural-related dataset, we first created a python script to scrap the data from the website, then we checked through each cell and removed all the noise data, tab, space, and inconsistent data type. The records since 2013 has a different set of categories which are not consistent with earlier years, therefore, we removed that all the data for 2013. Next, we plotted the pie chart showing the recordsâ€™ portions for the remaining years(1997, 2002, 2007, and 2012). </font>
		</p><br />
		<img src="before_pie1.png" alt="Snow" style="width:calc(300px + 40%);max-width: 800px; height: 400px;padding-left: calc(200px + 8%);">
		<br />
		<p style = "padding-left: calc(200px + 20%)"><a href="https://github.com/JunWang0318/ANLY503/blob/master/clean_data_code/clean.py" target="_blank">Figure 2</a> (Matplotlib)</p>
		<br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			From the pie chart above, we could see that the percentage for the year of 2012 is significantly higher than the rest of the years. When we took a closer look at the categories, there were many new domains showed up during 2012. Due to the consistency, we decided to remove all the new categories from 2012, in order to match with earlier years. After that, we plotted the pie chart again to check the resulting data. </font>
		</p><br />
		<img src="pie_after1.png" alt="Snow" style="width:calc(300px + 40%);max-width: 800px; height: 400px;padding-left: calc(200px + 8%);">
		<br />
		<p style = "padding-left: calc(200px + 20%)"><a href="https://github.com/JunWang0318/ANLY503/blob/master/clean_data_code/clean.py" target="_blank">Figure 3</a> (Matplotlib)</p>
		<br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			As we can see, now, the portion for each year are evenly distributed. </font>
		</p><br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			Since we are concerned about the factors that had an impact on the environment, we decided to focus on chemical and fertilizer domains. Then we plotted the line chart for those two domains. Comparing to the chemical domain, the number of records for the fertilizer domain is really small. So we decided to drop the fertilizer and only focusing on the chemical domain. Next, we plotted a histogram for the subcategories for the chemical domain.  </font>
		</p><br />
		<img src="before_three_category.png" alt="Snow" style="width:calc(350px + 40%);max-width: 800px; height: 500px;padding-left: calc(100px + 10%);">
		<br />
		<p style = "padding-left: calc(250px + 20%)"><a href="https://github.com/JunWang0318/ANLY503/blob/master/clean_data_code/clean.py" target="_blank">Figure 4</a> (Matplotlib)</p>
		<br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			After that, we checked missing values for the subset data and, and fixed missing values by filling the space with the closest valid value from the same column. Since the data is sorted by year, it is reasonable to replace empty values in this way. Then the histogram for the final resulting data is shown below.  </font>
		</p><br />
		<img src="after_three_category.png" alt="Snow" style="width:calc(350px + 40%);max-width: 800px; height: 500px;padding-left: calc(100px + 10%);">
		<br />
		<p style = "padding-left: calc(250px + 20%)"><a href="https://github.com/JunWang0318/ANLY503/blob/master/clean_data_code/clean.py" target="_blank">Figure 5</a> (Matplotlib)</p>
		<br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			For the cancer data, some states have missing values for the incidence and mortality rate. The following is the line chart for the three states that have missing values.   </font>
		</p><br />
		<img src="cancer_incidence_by_state.png" alt="Snow" style="width:calc(80px + 75%);max-width: 1000px;height: 450px;padding-left: calc(40px + 8%);">
		<br />
		<p style = "padding-left: calc(120px + 32%);"><a href="https://github.com/JunWang0318/ANLY503/blob/master/Vis_code/incidence_and_mortality_line.py" target="_blank">Figure 6</a> (ggplot)</p>
		<br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			From the above chart, Alabama is the state with complete data. Arkansas incidence rate and mortality rate are missing for 1999 and 2000; Mississippi incidence rate and mortality rate are missing for 1999, 2000, 2001, and 2002; South Dakota incidence rate and mortality rate are missing for 1999 and 2000. However, there is no reasonable way to fill in the missing data. So we decided to leave it like this. The final step is to check for the outlier for the dataset. We plotted the scatter plot for age-adjusted rate with both incidence and mortality.   </font>
		</p><br />
		<img src="cancer_incidence_scatter.png" alt="Snow" style="width:calc(350px + 40%);max-width: 800px; height: 400px;padding-left: calc(150px + 10%);">
		<br />
		<p style = "padding-left: calc(250px + 20%)"><a href="https://github.com/JunWang0318/ANLY503/blob/master/clean_data_code/clean_cancer.py" target="_blank">Figure 7</a> (Matplotlib)</p>
		<br />
		<img src="cancer_mortalityscatter.png" alt="Snow" style="width:calc(350px + 40%);max-width: 800px; height: 400px;padding-left: calc(150px + 10%);">
		<br />
		<p style = "padding-left: calc(250px + 20%)"><a href="https://github.com/JunWang0318/ANLY503/blob/master/clean_data_code/clean_cancer.py" target="_blank">Figure 8</a> (Matplotlib)</p>
		<br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			As a result, there is no outlier in the set and the cancer data is cleaned and well-structured.  </font>
		</p><br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			Next, for the health data, we selected five measures(Obesity, Diabetes, Smoking, Income Inequality, and Median Household Income) out of all the measures. Then, we checked for the missing value within the data. The records for Income Inequality of 2015 for Washington D.C. area were missing. So by the same method mentioned above, we filled in the empty spaces using the data from 2014. The last step is to check for the outlier of the dataset. We plotted the boxplot for each measure with the Median Household Income separated due to the scale of the numbers. </font>
		</p><br />
		<img src="boxplot_others.png" alt="Snow" style="width:calc(350px + 40%);max-width: 800px; height: 400px;padding-left: calc(150px + 10%);">
		<br />
		<p style = "padding-left: calc(250px + 20%)"><a href="https://github.com/JunWang0318/ANLY503/blob/master/clean_data_code/health_clean.py" target="_blank">Figure 9</a> (Matplotlib)</p>
		<br />
		<img src="boxplot_income.png" alt="Snow" style="width:calc(350px + 40%);max-width: 800px; height: 400px;padding-left: calc(150px + 10%);">
		<br />
		<p style = "padding-left: calc(250px + 20%)"><a href="https://github.com/JunWang0318/ANLY503/blob/master/clean_data_code/health_clean.py" target="_blank">Figure 10</a> (Matplotlib)</p>
		<br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			From the above plots, we can see that there is no outlier and the data is cleaned.</font>
		</p><br />
		<p style="padding-left: 8%; max-width: 1000px"><font size="4">
			Finally, for the economic data, due to the nature of the dataset, we did not check for the outlier and only check for the missing values. As a result, the data has no issue of missing values.  </font>
		</p><br />
		<br />
		<br />

	</body>

